@page "/"
@layout MainLayout
@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager
@inject FashionService FashionService
@inject OurEmployeesService OurEmployeesService
@using Microsoft.Extensions.Caching.Memory
@inject IMemoryCache cache


    <main id="content" role="main">
        <div id="carouselExampleControls" class="carousel slide m-2" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/fotos/image1/saloncrasu1.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="/fotos/image1/saloncrasu2.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="/fotos/image1/saloncrasu3.jpg" class="d-block w-100" alt="...">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <div>
            @foreach (var item in listFashion)
            {
                @if (i % 2 == 0)
                {

                    <div class="container  space-lg-2 mt-7">
                        <div class="row align-items-lg-center">
                            <div class="col-lg-5 order-lg-2 mb-3 mb-lg-0">
                                <div class="mb-5 m-sm-4">
                                    <h2 class="font-weight-medium text-center"> @item.Title</h2>
                                    <p> @item.ShortDescription</p>
                                </div>
                            </div>
                            <div class="col-lg-7 order-lg-1">
                                <div id="featuresSVG1" class="pr-lg-4" style="">
                                    <img src="data:image/jpg;base64, @item.Image" class="img-thumbnail text-right" alt="" />
                                </div>
                            </div>
                        </div>
                    </div>
                    i++;
                }
                else
                {
                    <div class="container space-lg-2 m-12">
                        <div class="row align-items-lg-center">
                            <div class="col-lg-5 mb-3 mb-lg-0">
                                <div class="mb-5 m-sm-4 mt-4">
                                    <h2 class="font-weight-medium text-center">@item.Title</h2>
                                    <p>@item.ShortDescription</p>
                                </div>

                            </div>
                            <div class="col-lg-7">
                                <div id="featuresSVG2" class="pl-lg-4 mb-5" style="">
                                    <img src="data:image/jpg;base64, @item.Image" class="img-thumbnail text-right" alt="" />
                                </div>
                            </div>
                        </div>
                    </div>
                    i++;
                }
            }
        </div>
        <div>
            <div class="col navMenu">
                @*<h2 class="text-center">~ Services ~</h2>*@
                @*<div>
                    <h2 class="font-weight-medium text-center mb-5">~ Services ~</h2>
                </div>*@
            </div>
            <div class="card-deck d-block d-lg-flex card-lg-gutters-3">

                <div class="card card-frame text-center mb-5">
                    <!-- Card -->
                    <div class="card-body p-6">
                        <div class="mx-auto mb-4">
                            <img class="img-fluid rounded" src="./fotos/index/Hair.jpg" style="height:260px;width:360px;" alt="Image Description">
                        </div>
                        <div class="mb-4">
                            <h4 class="h6 mb-1">We provide all kinds of hairdressing services</h4>
                            <p>Lviv</p>
                        </div>
                        <a class="btn btn-sm btn-soft-primary btn-wide" href="/services">View Details</a>
                    </div>
                    <!-- End Card -->
                </div>

                <div class="card card-frame text-center mb-5">
                    <!-- Card -->
                    <div class="card-body p-6">
                        <div class="mx-auto mb-4">
                            <img class="img-fluid rounded" src="./fotos/index/Pedicur2.jpg" style="height:260px;width:360px;" alt="Image Description">
                        </div>
                        <div class="mb-4">
                            <h4 class="h6 mb-1">We provide all types of nail service</h4>
                            <p>Lviv</p>
                        </div>
                        <a class="btn btn-sm btn-soft-primary btn-wide" href="/nails-all">View Details</a>
                    </div>
                    <!-- End Card -->
                </div>

                <div class="card card-frame text-center mb-5">
                    <!-- Card -->
                    <div class="card-body p-6">
                        <div class=" mx-auto mb-4">
                            <img class="img-fluid rounded" src="./fotos/index/pedicure-spa.jpg" style="height:260px;width:360px;" alt="Image Description">
                        </div>
                        <div class="mb-4">
                            <h4 class="h6 mb-1">We provide all kinds of massage services</h4>
                            <p>Lviv</p>
                        </div>
                        <a class="btn btn-sm btn-soft-primary btn-wide" href="massage-all">View Details</a>
                    </div>
                    <!-- End Card -->
                </div>
            </div>
        </div>
        <div>
            <!-- Stats Section -->
            <div class="container space-sm-2">
                <div class="row justify-content-center">
                    <div class="col-sm-4 col-lg-3 mb-7 mb-sm-0">
                        <!-- Stats -->
                        <div class="text-center">
                            <div class="position-relative">
                                <div class="u-indicator-dots">
                                    <h4 class="display-4 text-primary mb-0">25</h4>
                                </div>
                            </div>
                            <p class="mb-0">Top rated<br>agency companies</p>
                        </div>
                        <!-- End Stats -->
                    </div>

                    <div class="col-sm-4 col-lg-3 mb-7 mb-sm-0">
                        <!-- Stats -->
                        <div class="text-center">
                            <div class="position-relative">
                                <div class="u-indicator-dots">
                                    <h4 class="display-4 text-primary mb-0">$19</h4>
                                </div>
                            </div>
                            <p class="mb-0">Historical earnings<br>per click</p>
                        </div>
                        <!-- End Stats -->
                    </div>

                    <div class="col-sm-4 col-lg-3 mb-7 mb-sm-0">
                        <!-- Stats -->
                        <div class="text-center">
                            <div class="position-relative">
                                <h4 class="display-4 text-primary mb-0">50%</h4>
                            </div>
                            <p class="mb-0">Average<br>registration rate</p>
                        </div>
                    </div>
                </div>
                <!-- End Stats -->
            </div>
            <!-- End Stats Section -->
        </div>

        <div class="container space-top-0 space-bottom-md-1 space-bottom-0">
            <div class="row">
                <div class="col navMenu">
                    <h2 class="text-center">Our specialists will take care of you.</h2>
                </div>
                <br/>
                <div class="col-12 text-center">
                    <a class="btn btn-outline-success mb-3 mr-1" href="#carouselExampleIndicators2" role="button" data-slide="prev">
                        <i class="fa fa-arrow-left"></i>
                    </a>
                    <a class="btn btn-outline-success mb-3 " href="#carouselExampleIndicators2" role="button" data-slide="next">
                        <i class="fa fa-arrow-right"></i>
                    </a>
                </div>
                <div class="col-12">
                    <div id="carouselExampleIndicators2" class="carousel slide text-center" data-ride="carousel">

                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="row justify-content-center">
                                    @foreach (var item in employeeList.Take(3))
                                    {
                                        <div class="card-deck card-sm-gutters-3 d-block d-sm-flex col-md-4 col-sm-offset-8 col-xs-12 text-center padding wow fadeIn service-item  p-3 mb-5 rounded card-sm-gutters-1 d-block d-sm-flex">
                                            <div class="card mb-3">
                                                <img src="data:image/jpg;base64, @item.Photo" class="img-thumbnail text-right" alt="" />
                                                <div class="card-body ">
                                                    <h5 class="card-title">@item.Title</h5>
                                                    <p class="card-text">@item.Description</p>
                                                </div>
                                                <div class="card-footer">
                                                    <a class="btn btn-outline-primary text-center m-1" href="employee/@item.Id">Read more</a>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row justify-content-center">

                                    @foreach (var item in employeeList.Skip(3).Take(3))
                                    {
                                        <div class="card-deck card-sm-gutters-3 d-block d-sm-flex col-md-4 col-sm-offset-8 col-xs-12 text-center padding wow fadeIn service-item  p-3 mb-5 rounded card-sm-gutters-1 d-block d-sm-flex">
                                            <div class="card mb-3">
                                                <img src="data:image/jpg;base64, @item.Photo" class="img-thumbnail text-right" alt="" />
                                                <div class="card-body ">
                                                    <h5 class="card-title">@item.Title</h5>
                                                    <p class="card-text">@item.Description</p>
                                                </div>
                                                <div class="card-footer">
                                                    <a class="btn btn-outline-primary text-center m-1" href="employee/@item.Id">Read more</a>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row justify-content-center">

                                    @foreach (var item in employeeList.Skip(6).Take(3))
                                    {
                                        <div class="card-deck card-sm-gutters-3 d-block d-sm-flex col-md-4 col-sm-offset-8 col-xs-12 text-center padding wow fadeIn service-item  p-3 mb-5 rounded card-sm-gutters-1 d-block d-sm-flex">
                                            <div class="card mb-3">
                                                <img src="data:image/jpg;base64, @item.Photo" class="img-thumbnail text-right" alt="" />
                                                <div class="card-body ">
                                                    <h5 class="card-title">@item.Title</h5>
                                                    <p class="card-text">@item.Description</p>
                                                </div>
                                                <div class="card-footer">
                                                    <a class="btn btn-outline-primary text-center m-1" href="employee/@item.Id">Read more</a>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row justify-content-center">

                                    @foreach (var item in employeeList.Skip(9).Take(3))
                                    {
                                        <div class="card-deck card-sm-gutters-3 d-block d-sm-flex col-md-4 col-sm-offset-8 col-xs-12 text-center padding wow fadeIn service-item  p-3 mb-5 rounded card-sm-gutters-1 d-block d-sm-flex">
                                            <div class="card mb-3">
                                                <img src="data:image/jpg;base64, @item.Photo" class="img-thumbnail text-right" alt="" />
                                                <div class="card-body ">
                                                    <h5 class="card-title">@item.Title</h5>
                                                    <p class="card-text">@item.Description</p>
                                                </div>
                                                <div class="card-footer">
                                                    <a class="btn btn-outline-primary text-center m-1" href="employee/@item.Id">Read more</a>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
         </div>
                <div>
                    <!-- Testimonials Section -->
                    <div class="container space-sm-2">
                        <!-- Title -->
                        <div class="col navMenu">
                            <h2 class="text-center">Feedback from our regular customers</h2>
                        </div>
                        <!-- End Title -->
                        <!-- Testimonials Section -->
                        <div class="row">
                            <!-- Testimonials -->
                            <div class="col-lg-4 mb-5">
                                <div class="card border-0 shadow-soft h-100">
                                    <div class="card-body p-5">
                                        <ul class="list-inline text-warning">
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                        </ul>
                                        <div class="mb-auto">
                                            <p class="text-dark mb-0">I had a manicure in this salon, to be honest, the atmosphere there is as unique as at home.</p>
                                        </div>
                                    </div>

                                    <div class="card-footer border-0 bg-transparent pt-0 px-5 pb-5">
                                        <div class="media">
                                            <div class="u-avatar mr-3">
                                                <img class="img-fluid rounded-circle" src="./assets/img/100x100/img2.jpg" alt="Image Description">
                                            </div>
                                            <div class="media-body">
                                                <h4 class="h6 mb-0">Maria Muszynska</h4>
                                                @*<small class="d-block text-secondary">Business Manager</small>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- End Testimonials -->
                            <!-- Testimonials -->
                            <div class="col-lg-4 mb-5">
                                <div class="card border-0 shadow-soft h-100">
                                    <div class="card-body p-5">
                                        <ul class="list-inline text-warning">
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                        </ul>
                                        <div class="mb-auto">
                                            <p class="text-dark mb-0">I always do my haired in this salon, I will say that real professionals work here.</p>
                                        </div>
                                    </div>

                                    <div class="card-footer border-0 bg-transparent pt-0 px-5 pb-5">
                                        <div class="media">
                                            <div class="u-avatar mr-3">
                                                <img class="img-fluid rounded-circle" src="./assets/img/100x100/img11.jpg" alt="Image Description">
                                            </div>
                                            <div class="media-body">
                                                <h4 class="h6 mb-0">Massalha Shady</h4>
                                                @*<small class="d-block text-secondary">CEO at Slack</small>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- End Testimonials -->
                            <!-- Testimonials -->
                            <div class="col-lg-4 mb-5">
                                <div class="card border-0 shadow-soft h-100">
                                    <div class="card-body p-5">
                                        <ul class="list-inline text-warning">
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                            <li class="list-inline-item mx-0">
                                                <span class="fas fa-star"></span>
                                            </li>
                                        </ul>
                                        <div class="mb-auto">
                                            <p class="text-dark mb-0">This week I went for a massage and was very pleased.</p>
                                        </div>
                                    </div>

                                    <div class="card-footer border-0 bg-transparent pt-0 px-5 pb-5">
                                        <div class="media">
                                            <div class="u-avatar mr-3">
                                                <img class="img-fluid rounded-circle" src="./assets/img/100x100/img4.jpg" alt="Image Description">
                                            </div>
                                            <div class="media-body">
                                                <h4 class="h6 mb-0">Mark McManus</h4>
                                                @*<small class="d-block text-secondary">Front Pay user</small>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- End Testimonials -->
                        </div>
                    </div>
                    <!-- End Testimonials Section -->
                </div>
    </main>

@code{
    protected List<Fashion> listFashion = new List<Fashion>();
    protected IEnumerable<OurEmployee> employeeList = new List<OurEmployee>();
    protected Fashion model = new Fashion();
    bool isInRole = false;

    private int i = 0;
    protected override async Task OnInitializedAsync()
    {
        var value = cache.Get<List<Fashion>>("KeyIndexPade");
        if (value == null)
        {
            listFashion = await FashionService.GetAllListAync();
            cache.Set("KeyIndexPage", listFashion);
        }
        else
        {
            listFashion = value;
        }
        var employee = cache.Get<List<OurEmployee>>("KeyIndexEmployee");
        if(employee == null)
        {
            employeeList = await OurEmployeesService.GetAllListAsync();
            cache.Set("KeyIndexEmployee", employeeList);
        }
        else
        {
            employeeList = employee;
        }
        this.StateHasChanged();
    }
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("loadScripts");
            await JSRuntime.InvokeVoidAsync("setTitle", "Beauty Salon - Home");
        }
    }
}

